<!-- header.html -->
<header>
  <div class="header-logo">
    <a href="/index.html">
      <img src="/images/weblogo.png" alt="Erovra Club Logo">
    </a>
  </div>
  
  <button id="menuToggle" class="menu-toggle" aria-label="Toggle navigation menu">
    <span></span>
    <span></span>
    <span></span>
  </button>
  
  <nav id="mainNav">
    <ul class="nav-menu">
      <li><a href="/pages/training/training.html">Training</a></li>
      <li><a href="/pages/coaches/coaches.html">Coaches</a></li>
      <li class="dropdown">
        <button class="dropdown-button">Events <span class="arrow">â–¼</span></button>
        <ul class="dropdown-content">
          <li><a href="/pages/ERC25/erc25.html">ERC25</a></li>
        </ul>
      </li>
      <li><a href="/pages/contact/contact.html">Contact Us</a></li>
    </ul>
  </nav>
</header>

<div id="menuOverlay" class="menu-overlay"></div>

<script>
// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
  // Get all required elements
  const menuToggle = document.getElementById('menuToggle');
  const mainNav = document.getElementById('mainNav');
  const menuOverlay = document.getElementById('menuOverlay');
  const dropdowns = document.querySelectorAll('.dropdown');

  // Function to close the menu
  function closeMenu() {
    mainNav.classList.remove('active');
    menuToggle.classList.remove('active');
    menuOverlay.classList.remove('active');
    document.body.classList.remove('menu-open');
    dropdowns.forEach(dropdown => dropdown.classList.remove('active'));
  }

  // Function to open the menu
  function openMenu() {
    mainNav.classList.add('active');
    menuToggle.classList.add('active');
    menuOverlay.classList.add('active');
    document.body.classList.add('menu-open');
  }

  // Add click event to menu toggle button
  menuToggle.addEventListener('click', function(e) {
    e.stopPropagation();
    if (mainNav.classList.contains('active')) {
      closeMenu();
    } else {
      openMenu();
    }
  });

  // Handle dropdowns
  dropdowns.forEach(function(dropdown) {
    const button = dropdown.querySelector('.dropdown-button');
    
    button.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      
      if (window.innerWidth <= 768) {
        // Close other dropdowns
        dropdowns.forEach(function(other) {
          if (other !== dropdown) {
            other.classList.remove('active');
          }
        });
        // Toggle current dropdown
        dropdown.classList.toggle('active');
      }
    });
  });

  // Close menu when clicking overlay
  menuOverlay.addEventListener('click', closeMenu);

  // Close menu when clicking outside
  document.addEventListener('click', function(e) {
    if (!mainNav.contains(e.target) && !menuToggle.contains(e.target)) {
      closeMenu();
    }
  });

  // Handle window resize
  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      if (window.innerWidth > 768) {
        closeMenu();
      }
    }, 250);
  });
});
</script>